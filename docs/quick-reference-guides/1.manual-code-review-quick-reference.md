# Manual Code Review - Quick Reference Guide

## ðŸ”§ Essential Commands

**Basic Navigation:**
```bash
# Start from main project folder
cd /workspaces/Secure_Architecture_Sandbox_Testing_Environment

# View application files
cat samples/unsecure-pwa/main.py
cat samples/unsecure-pwa/user_management.py

# Check templates
ls samples/unsecure-pwa/templates/
cat samples/unsecure-pwa/templates/index.html
```

**Code Search Patterns:**
```bash
# Find SQL queries
grep -n "execute" samples/unsecure-pwa/*.py

# Find template variables
grep -n "|safe" samples/unsecure-pwa/templates/*.html

# Find user input handling
grep -n "request.form" samples/unsecure-pwa/*.py
```

## ï¿½ Key Security Concepts

### Manual Code Review Process
1. **Identify Entry Points**: Forms, URL parameters, file uploads
2. **Trace Data Flow**: Follow user input through the application  
3. **Question Assumptions**: "What if this input is malicious?"
4. **Think Like Attacker**: "How could I misuse this functionality?"

### Manual vs Automated Testing
- **Manual**: Context-aware, finds business logic flaws, low false positives
- **Automated**: Fast pattern matching, high coverage, many false positives
- **Combined Approach**: Use both for comprehensive security coverage

## ðŸš¨ Critical Vulnerability Patterns

### SQL Injection ðŸ”´ CRITICAL
```python
# DANGEROUS - String formatting
cur.execute(f"SELECT * FROM users WHERE id = '{user_id}'")

# SAFE - Parameterized queries  
cur.execute("SELECT * FROM users WHERE id = ?", (user_id,))
```

### Cross-Site Scripting (XSS) ðŸŸ  HIGH
```html
<!-- DANGEROUS - Disables XSS protection -->
{{ user_input|safe }}

<!-- SAFE - Automatic escaping -->
{{ user_input }}
```

### Authentication Bypass ðŸŸ  HIGH
```python
# DANGEROUS - Separate validation
check_username(user)
check_password(pass)

# SAFE - Combined validation
check_credentials(user, pass)
```

### Hard-coded Secrets ðŸŸ¡ MEDIUM  
```python
# DANGEROUS - Secrets in code
SECRET_KEY = "hardcoded_secret_123"

# SAFE - Environment variables
SECRET_KEY = os.environ.get('SECRET_KEY')
```

## âœ… Security Review Checklist

### Authentication & Authorization
- [ ] Are passwords hashed, not stored in plain text?
- [ ] Is session management secure?
- [ ] Are authentication checks applied consistently?
- [ ] Can users access data/functions they shouldn't?

### Input Validation & Output Encoding
- [ ] Is all user input validated before processing?
- [ ] Are SQL queries parameterized (no string formatting)?
- [ ] Is user output properly encoded in templates?
- [ ] Are `|safe` filters avoided or justified?

### Configuration & Error Handling
- [ ] Is debug mode disabled in production?
- [ ] Are detailed error messages hidden from users?
- [ ] Are secrets stored securely (not hardcoded)?
- [ ] Are security headers implemented?

## ï¿½ Common Issues & Solutions

**"Can't find application files"**
```bash
cd /workspaces/Secure_Architecture_Sandbox_Testing_Environment
ls samples/unsecure-pwa/
```

**"Don't know where to start"**
- Begin with `user_management.py` - look for SQL queries
- Check templates for `|safe` filters
- Focus on functions that handle user input

**"Found something but not sure if vulnerable"**
- Ask: "What happens if I put malicious input here?"
- Test the mental model: "Could an attacker exploit this?"
- Consider the worst-case impact

**"Everything looks problematic"**
- Prioritize by impact: data access > functionality bypass > information disclosure
- Focus on user-controlled input paths first
- Look for patterns, not isolated issues
